(this["webpackJsonptinder-crawler"]=this["webpackJsonptinder-crawler"]||[]).push([[0],{47:function(e,t,n){},48:function(e,t,n){},49:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n(20),s=n.n(c),i=n(3),a=n.n(i),u=n(5),o=n(6),l=n(4),d=n(21),f=n.n(d),j=n(0),b=function(e){var t=e.list,n=Object(r.useState)(""),c=Object(l.a)(n,2),s=c[0],i=c[1];Object(r.useEffect)((function(){t.length&&i(t[0].url)}),[]);var a=function(e,t){t.preventDefault(),i(e)};return Object(j.jsxs)("div",{className:"img-block",children:[Object(j.jsx)("img",{src:s}),Object(j.jsx)("div",{className:"thumbs",children:t.map((function(e,t){return Object(j.jsx)("img",{src:e.url,className:e.url===s?"active":"",onClick:a.bind(null,e.url)},t)}))})]})},h=n(8),O=n.n(h),m=O.a.create({baseURL:"http://cast.celiorodrigues.com:6380",transformRequest:[function(e,t){var n=window.localStorage.getItem("tinderToken");return n&&(t["tinder-token"]=n),e}].concat(Object(u.a)(Array.isArray(O.a.defaults.transformRequest)?O.a.defaults.transformRequest:[O.a.defaults.transformRequest]))}),p=n(11),v=(n(47),function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],s=Object(r.useState)(0),i=Object(l.a)(s,2),d=i[0],h=i[1],O=Object(r.useState)([]),v=Object(l.a)(O,2),x=v[0],k=v[1],g=Object(r.useState)([]),w=Object(l.a)(g,2),_=w[0],N=w[1],y=Object(r.useRef)(!1),R=Object(r.useRef)([]),S=Object(r.useRef)(),C=Object(r.useRef)();Object(r.useEffect)((function(){return T(),window.addEventListener("scroll",D,!1),function(){return window.removeEventListener("scroll",D)}}),[]),Object(r.useEffect)((function(){y.current=!1}),[n]);var D=function(e){var t=document.scrollingElement;!y.current&&t.scrollTop>t.scrollHeight-window.innerHeight-250&&T()},T=function(){var e=Object(o.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y.current=!0,e.prev=1,e.next=4,m.get("/").then((function(e){return e.data}));case 4:t=e.sent,n=t.length?t.filter((function(e){var t=-1===R.current.indexOf(e.user._id);return t&&R.current.push(e.user._id),t})):[],h((function(e){return e+(t.length-n.length)})),n.length?c((function(e){return[].concat(Object(u.a)(e),Object(u.a)(n))})):T(),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(1),window.localStorage.removeItem("tinderToken"),window.location.reload();case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(a.a.mark((function e(t){var r,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),r=Object(u.a)(n),s=function(){var e=Object(o.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c((function(e){return e.filter((function(e){return e.user._id!==r[t].user._id}))})),-1!==x.indexOf(r[t].user._id)){e.next=5;break}return e.next=4,m.post("/pass",{id:r[t].user._id,s:r[t].s_number}).then((function(e){return e.data}));case 4:t<r.length-1?s(t+1):T();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r.length&&s(0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),L=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m.post("/like",{id:t.user._id,s:t.s_number}).then((function(e){return e.data}));case 3:k((function(e){return[].concat(Object(u.a)(e),[t.user._id])})),S.current.checked&&c((function(e){return e.filter((function(e){return e.user._id!==t.user._id}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,m.post("/pass",{id:t.user._id,s:t.s_number}).then((function(e){return e.data}));case 3:N((function(e){return[].concat(Object(u.a)(e),[t.user._id])})),C.current.checked&&c((function(e){return e.filter((function(e){return e.user._id!==t.user._id}))}));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(e){var t=-1!==x.indexOf(e.user._id),n=-1!==_.indexOf(e.user._id);return Object(j.jsx)("button",{className:Object(p.a)("like",{disabled:t,hidden:n}),onClick:L.bind(null,e),disabled:t,children:t?"Liked":"Like"})},q=function(e){var t=-1!==x.indexOf(e.user._id),n=-1!==_.indexOf(e.user._id);return Object(j.jsx)("button",{className:Object(p.a)("dislike",{disabled:n,hidden:t}),onClick:I.bind(null,e),disabled:n,children:n?"Disliked":"Dislike"})};return Object(j.jsxs)("div",{className:"dashboard",children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("button",{onClick:E,className:"negate-all",children:"Negar Todos"}),Object(j.jsxs)("div",{className:"removerLikes",children:[Object(j.jsx)("input",{type:"checkbox",name:"remover-likes",id:"remover-likes",ref:S}),Object(j.jsx)("label",{for:"remover-likes",children:"Remover ap\xf3s o like"})]}),Object(j.jsxs)("div",{className:"removerDislikes",children:[Object(j.jsx)("input",{type:"checkbox",name:"remover-dislikes",id:"remover-dislikes",ref:C}),Object(j.jsx)("label",{for:"remover-dislikes",children:"Remover ap\xf3s o dislike"})]}),Object(j.jsxs)("span",{className:"counter",children:[n.length,"/",d]})]}),Object(j.jsx)("div",{className:"list",children:n.map((function(e){return Object(j.jsx)("div",{className:"item","data-id":e.user._id,children:Object(j.jsxs)("div",{className:"content",children:[Object(j.jsx)(b,{list:e.user.photos}),Object(j.jsxs)("div",{className:"info",children:[Object(j.jsx)("h1",{children:e.user.name}),Object(j.jsx)("h3",{children:(t=e.user.birth_date,f()(t).format("YYYY"))}),Object(j.jsxs)("span",{className:"distance",children:[(1.609*e.distance_mi).toFixed(1).replace(".",",")," km"]}),Object(j.jsx)("p",{children:e.user.bio})]}),Object(j.jsxs)("div",{className:"actions",children:[q(e),F(e)]})]})},e.user._id);var t}))})]})}),x=(n(48),function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1];return Object(j.jsxs)("div",{className:"token-page",children:[Object(j.jsx)("input",{type:"text",name:"token",placeholder:"Token",onChange:function(e){return c(e.target.value)}}),Object(j.jsx)("button",{onClick:function(e){e.preventDefault(),n&&(window.localStorage.setItem("tinderToken",n),window.location.reload())},children:"Entrar"})]})}),k=(n(49),function(){return window.localStorage.getItem("tinderToken")?Object(j.jsx)(v,{}):Object(j.jsx)(x,{})}),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,51)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),s(e),i(e)}))};s.a.render(Object(j.jsx)(k,{}),document.getElementById("root")),g()}},[[50,1,2]]]);
//# sourceMappingURL=main.07af2f47.chunk.js.map
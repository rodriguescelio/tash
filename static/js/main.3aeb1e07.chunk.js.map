{"version":3,"sources":["Image.js","services/http.service.js","Dashboard.js","Token.js","App.js","reportWebVitals.js","index.js"],"names":["Image","list","useState","current","setCurrent","useEffect","length","url","onClick","e","preventDefault","className","src","map","it","index","bind","http","axios","create","baseURL","transformRequest","data","header","token","window","localStorage","getItem","Array","isArray","defaults","Dashboard","setData","dups","setDups","loading","useRef","ids","load","addEventListener","onScroll","removeEventListener","elm","document","scrollingElement","scrollTop","scrollHeight","innerHeight","a","get","then","res","filtered","filter","result","indexOf","user","_id","push","p","negateAll","currentData","rem","s_number","status","like","item","post","console","log","dislike","data-id","photos","name","d","birth_date","moment","format","distance_mi","toFixed","replace","bio","Token","setToken","type","placeholder","onChange","target","value","setItem","location","reload","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.3aeb1e07.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\n\nconst Image = ({ list }) => {\n\tconst [current, setCurrent] = useState('');\n\n\n\tuseEffect(\n\t\t() => {\n\t\t\tif (list.length) {\n\t\t\t\tsetCurrent(list[0].url);\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[]\n\t);\n\n\tconst onClick = (url, e) => {\n\t\te.preventDefault();\n\t\tsetCurrent(url);\n\t};\n\n\treturn (\n\t\t<div className=\"img-block\">\n\t\t\t<img src={current} />\n\t\t\t<div className=\"thumbs\">\n\t\t\t\t{list.map((it, index) => (\n\t\t\t\t\t<img\n\t\t\t\t\t\tsrc={it.url}\n\t\t\t\t\t\tclassName={it.url === current ? 'active' : ''}\n\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\tonClick={onClick.bind(null, it.url)}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n};\n\nexport default Image;\n","import axios from 'axios';\n\nconst getDefaultTransformers = () =>\n\tArray.isArray(axios.defaults.transformRequest) ? axios.defaults.transformRequest : [axios.defaults.transformRequest];\n\nconst http = axios.create({\n\tbaseURL: 'https://api.gotinder.com',\n\ttransformRequest: [\n\t\t(data, header) => {\n\t\t\tconst token = window.localStorage.getItem('tinderToken');\n\t\t\tif (token) {\n\t\t\t\theader['x-auth-token'] = token;\n\t\t\t}\n\t\t\treturn data;\n\t\t},\n\t\t...getDefaultTransformers(),\n\t]\n});\n\nexport default http;\n","import React, { useEffect, useRef, useState } from 'react';\nimport axios from 'axios';\nimport moment from 'moment';\nimport Image from './Image';\nimport http from './services/http.service';\n\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n\tconst [data, setData] = useState([]);\n\tconst [dups, setDups] = useState(0);\n\n\tconst loading = useRef(false);\n\tconst ids = useRef([]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tload();\n\t\t\twindow.addEventListener('scroll', onScroll, false);\n\t\t\treturn () => window.removeEventListener('scroll', onScroll);\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tloading.current = false;\n\t\t},\n\t\t[data]\n\t);\n\n\tconst onScroll = e => {\n\t\tconst elm = document.scrollingElement;\n\t\tif (!loading.current && elm.scrollTop > (elm.scrollHeight - window.innerHeight - 250)) {\n\t\t\tload();\n\t\t}\n\t};\n\n\tconst getDate = d => moment(d).format('YYYY');\n\n\tconst load = async () => {\n\t\tloading.current = true;\n\t\tconst res = await http.get('/v2/recs/core?locale=pt').then(res => res.data);\n\t\tconst filtered = res.length ? res.filter(it => {\n\t\t\tconst result = ids.current.indexOf(it.user._id) === -1;\n\t\t\tif (result) {\n\t\t\t\tids.current.push(it.user._id);\n\t\t\t}\n\t\t\treturn result;\n\t\t}) : [];\n\n\t\tsetDups(p => p + (res.length - filtered.length));\n\t\tsetData(p => [...p, ...filtered]);\n\t};\n\n\tconst negateAll = async e => {\n\t\te.preventDefault();\n\t\tconst currentData = [...data];\n\t\t\n\t\tconst rem = async index => {\n\t\t\tconst res = await http.get(`/pass/${currentData[index].user._id}?locale=pt&s_number=${currentData[index].s_number}`).then(res => res.data);\n\t\t\tif (res.status === 200) {\n\t\t\t\tsetData(p => p.filter(it => it.user._id !== currentData[index].user._id));\n\t\t\t}\n\t\t\tif (index < currentData.length - 1) {\n\t\t\t\trem(index + 1);\n\t\t\t} else {\n\t\t\t\tload();\n\t\t\t}\n\t\t};\n\n\t\tif (currentData.length) {\n\t\t\trem(0);\n\t\t}\n\t};\n\n\tconst like = async (item, e) => {\n\t\te.preventDefault();\n\t\tconst res = await http.post(`/like/${item.user._id}?locale=pt`, {\n\t\t\ts_number: item.s_number,\n\t\t}).then(res => res.data);\n\t\tconsole.log(res);\n\t};\n\n\tconst dislike = async (item, e) => {\n\t\te.preventDefault();\n\t\tconst res = await http.get(`/pass/${item.user._id}?locale=pt&s_number=${item.s_number}`).then(res => res.data);\n\t\tconsole.log(res);\n\t};\n\n\treturn (\n\t\t<div className=\"dashboard\">\n\t\t\t<button onClick={negateAll} className=\"negate-all\">Negar Todos</button>\n\t\t\t<span className=\"counter\">{data.length}/{dups}</span>\n\t\t\t<div className=\"list\">\n\t\t\t\t{data.map((it, index) => (\n\t\t\t\t\t<div key={it.user._id} className=\"item\" data-id={it.user._id}>\n\t\t\t\t\t\t<div className=\"content\">\n\t\t\t\t\t\t\t<Image list={it.user.photos} />\n\t\t\t\t\t\t\t<div className=\"info\">\n\t\t\t\t\t\t\t\t<h1>{it.user.name}</h1>\n\t\t\t\t\t\t\t\t<h3>{getDate(it.user.birth_date)}</h3>\n\t\t\t\t\t\t\t\t<span className=\"distance\">{(it.distance_mi * 1.609).toFixed(1).replace('.', ',')} km</span>\n\t\t\t\t\t\t\t\t<p>{it.user.bio}</p>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div className=\"actions\">\n\t\t\t\t\t\t\t\t<button className=\"dislike\" onClick={dislike.bind(null, it)}>Dislike</button>\n\t\t\t\t\t\t\t\t<button className=\"like\" onClick={like.bind(null, it)}>Like</button>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Dashboard;\n","import React, { useState } from 'react';\n\nimport './Token.css';\n\nconst Token = () => {\n\tconst [token, setToken] = useState('');\t\n\t\n\tconst onChange = e => setToken(e.target.value);\n\n\tconst onClick = e => {\n\t\te.preventDefault();\n\t\tif (token) {\n\t\t\twindow.localStorage.setItem('tinderToken', token);\n\t\t\twindow.location.reload();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"token-page\">\n\t\t\t<input type=\"text\" name=\"token\" placeholder=\"Token\" onChange={onChange} />\n\t\t\t<button onClick={onClick}>Entrar</button>\n\t\t</div>\n\t);\n};\n\nexport default Token;\n","import React from 'react';\nimport Dashboard from './Dashboard';\nimport Token from './Token';\n\nimport './App.css';\n\nconst App = () => {\n\tconst token = window.localStorage.getItem('tinderToken');\n\treturn !!token ? <Dashboard /> : <Token />;\n};\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
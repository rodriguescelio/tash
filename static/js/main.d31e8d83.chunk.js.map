{"version":3,"sources":["services/http.service.js","views/components/profile/Profile.js","views/pages/dashboard/Dashboard.js","views/pages/token/Token.js","App.js","reportWebVitals.js","index.js"],"names":["http","axios","create","baseURL","transformRequest","data","header","tinderToken","window","localStorage","getItem","happnToken","happnDeviceId","Array","isArray","defaults","Profile","item","likes","dislikes","updateLikes","updateDislikes","useState","open","setOpen","currentImage","setCurrentImage","imageList","setImageList","useEffect","list","user","photos","length","url","push","instagram","map","it","image","getAge","moment","year","birth_date","onClose","e","preventDefault","document","body","classList","remove","onDislike","a","stopPropagation","post","id","_id","s","s_number","onLike","changePreview","isLike","indexOf","isDislike","className","onClick","add","alt","src","type","icon","faHeading","name","clsx","hidden","disabled","faTimes","faHeart","target","contains","index","findIndex","faChevronLeft","faChevronRight","distance_mi","toFixed","bio","active","bind","Dashboard","setData","dups","setDups","setLikes","setDislikes","loading","useRef","ids","removerLikes","removerDislikes","load","addEventListener","onScroll","removeEventListener","current","elm","scrollingElement","scrollTop","scrollHeight","innerHeight","items","get","then","res","tinderRes","filtered","filter","result","p","removeItem","location","reload","negateAll","currentData","rem","userId","checked","ref","htmlFor","Token","token","setToken","placeholder","onChange","value","setItem","App","params","search","replace","split","reduce","acc","val","href","origin","pathname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.d31e8d83.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst getDefaultTransformers = () =>\n\tArray.isArray(axios.defaults.transformRequest) ? axios.defaults.transformRequest : [axios.defaults.transformRequest];\n\nconst http = axios.create({\n\t// baseURL: 'http://cast.celiorodrigues.com:6380',\n\tbaseURL: 'http://localhost:6380',\n\ttransformRequest: [\n\t\t(data, header) => {\n\t\t\tconst tinderToken = window.localStorage.getItem('tinderToken');\n\t\t\tconst happnToken = window.localStorage.getItem('happnToken');\n\t\t\tconst happnDeviceId = window.localStorage.getItem('happnDeviceId');\n\n\t\t\tif (tinderToken) {\n\t\t\t\theader['tinder-token'] = tinderToken;\n\t\t\t}\n\n\t\t\tif (happnToken) {\n\t\t\t\theader['happn-token'] = happnToken;\n\t\t\t}\n\n\t\t\tif (happnDeviceId) {\n\t\t\t\theader['happn-device-id'] = happnDeviceId;\n\t\t\t}\n\n\t\t\treturn data;\n\t\t},\n\t\t...getDefaultTransformers(),\n\t]\n});\n\nexport default http;\n","import { faChevronLeft, faChevronRight, faHeading, faHeart, faTimes } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport moment from 'moment';\nimport React, { useEffect, useState } from 'react';\nimport http from '../../../services/http.service';\n\nimport './Profile.css';\n\nconst Profile = ({ item, likes, dislikes, updateLikes, updateDislikes }) => {\n  const [open, setOpen] = useState(false);\n  const [currentImage, setCurrentImage] = useState('');\n  const [imageList, setImageList] = useState([]);\n\n  useEffect(\n    () => {\n      const list = [];\n\n      if (item.user.photos.length) {\n        setCurrentImage(item.user.photos[0].url);\n        list.push(...item.user.photos);\n      }\n\n      if (item.instagram && item.instagram.photos) {\n        list.push(...item.instagram.photos.map(it => ({ url: it.image })));\n      }\n\n      setImageList(list);\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    []\n  );\n\n  const getAge = () => moment().year() - moment(item.user.birth_date).year();\n\n  const onDetail = e => {\n    e.preventDefault();\n    setOpen(true);\n    document.body.classList.add('lock');\n  };\n\n  const onClose = e => {\n    e.preventDefault();\n    setOpen(false);\n    document.body.classList.remove('lock');\n  };\n\n  const onDislike = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    await http.post('/pass', {\n\t\t\tid: item.user._id,\n\t\t\ts: item.s_number,\n\t\t});\n\n    updateDislikes(item.user._id);\n  };\n\n  const onLike = async e => {\n    e.preventDefault();\n    e.stopPropagation();\n\n\t\tawait http.post('/like', {\n\t\t\tid: item.user._id,\n\t\t\ts: item.s_number,\n\t\t});\n\n    updateLikes(item.user._id);\n\t};\n\n  const changePreview = (url, e) => {\n    e.preventDefault();\n    setCurrentImage(url);\n  };\n\n  const handlePreviewClick = e => {\n    if (e.target.classList.contains('preview')) {\n      onClose(e);\n    }\n  };\n\n  const prev = e => {\n    e.preventDefault();\n    const index = imageList.findIndex(it => it.url === currentImage);\n    if (index > 0) {\n      setCurrentImage(imageList[index - 1].url);\n    } else {\n      setCurrentImage(imageList[imageList.length - 1].url);\n    }\n  }\n\n  const next = e => {\n    e.preventDefault();\n    const index = imageList.findIndex(it => it.url === currentImage);\n    if (index < imageList.length - 1) {\n      setCurrentImage(imageList[index + 1].url);\n    } else {\n      setCurrentImage(imageList[0].url);\n    }\n  }\n\n  const isLike = likes.indexOf(item.user._id) !== -1;\n  const isDislike = dislikes.indexOf(item.user._id) !== -1;\n\n  return (\n    <>\n      <div className=\"profile\" onClick={onDetail}>\n        <img alt=\"\" src={item.user.photos[0].url} />\n        {item.type === 'happn' && (\n          <span className=\"happn\">\n            <FontAwesomeIcon icon={faHeading} />\n          </span>\n        )}\n        <div className=\"info\">\n          <span className=\"name\">{item.user.name}, {getAge()}</span>\n          <div className=\"actions\">\n            <button className={clsx('dislike', { hidden: isLike })} onClick={onDislike} disabled={isDislike}>\n              <FontAwesomeIcon icon={faTimes} />\n            </button>\n            <button className={clsx('like', { hidden: isDislike })} onClick={onLike} disabled={isLike}>\n              <FontAwesomeIcon icon={faHeart} />\n            </button>\n          </div>\n        </div>\n      </div>\n      {open && (\n        <div className=\"full-profile\">\n          <div className=\"preview\" onClick={handlePreviewClick}>\n            <button className=\"prev\" onClick={prev}>\n              <FontAwesomeIcon icon={faChevronLeft} />\n            </button>\n            <img alt=\"\" src={currentImage} />\n            <button className=\"next\" onClick={next}>\n              <FontAwesomeIcon icon={faChevronRight} />\n            </button>\n          </div>\n          <div className=\"info\">\n            <button className=\"close\" onClick={onClose}>\n              <FontAwesomeIcon icon={faTimes} />\n            </button>\n            <h1>{item.user.name}, {getAge()}</h1>\n            <span className=\"distance\">{(item.distance_mi * 1.6).toFixed(1)} km</span>\n            <p>\n              {item.user.bio}\n            </p>\n            <div className=\"gallery\">\n              {imageList.map((it, index) => (\n                <img\n                  alt=\"\"\n                  key={index}\n                  src={it.url}\n                  className={clsx({ active: it.url === currentImage })}\n                  onClick={changePreview.bind(null, it.url)}\n                />\n              ))}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default Profile;\n","import React, { useEffect, useRef, useState } from 'react';\nimport http from '../../../services/http.service';\nimport Profile from '../../components/profile/Profile';\nimport moment from 'moment';\n\nimport './Dashboard.css';\n\nconst Dashboard = () => {\n\tconst [data, setData] = useState([]);\n\tconst [dups, setDups] = useState(0);\n\n\tconst [likes, setLikes] = useState([]);\n\tconst [dislikes, setDislikes] = useState([]);\n\n\tconst loading = useRef(false);\n\tconst ids = useRef([]);\n\tconst removerLikes = useRef();\n\tconst removerDislikes = useRef();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tload();\n\t\t\twindow.addEventListener('scroll', onScroll, false);\n\t\t\treturn () => window.removeEventListener('scroll', onScroll);\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[]\n\t);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tloading.current = false;\n\t\t},\n\t\t[data]\n\t);\n\n\tconst onScroll = e => {\n\t\tconst elm = document.scrollingElement;\n\t\tif (!loading.current && elm.scrollTop > (elm.scrollHeight - window.innerHeight - 250)) {\n\t\t\tload();\n\t\t}\n\t};\n\n\tconst load = async () => {\n\t\tloading.current = true;\n\n\t\tconst items = [];\n\n\t\ttry {\n\t\t\tconst tinderRes = await http.get('/').then(res => res.data);\n\t\t\titems.push(...tinderRes);\n\n\t\t\tconst filtered = items.length ? items.filter(it => {\n\t\t\t\tconst result = ids.current.indexOf(it.user._id) === -1;\n\t\t\t\tif (result) {\n\t\t\t\t\tids.current.push(it.user._id);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t}) : [];\n\t\n\t\t\tsetDups(p => p + (items.length - filtered.length));\n\t\n\t\t\tif (filtered.length) {\n\t\t\t\tsetData(p => [...p, ...filtered]);\n\t\t\t} else {\n\t\t\t\tload();\n\t\t\t}\n\t\t} catch (e) {\n\t\t\twindow.localStorage.removeItem('tinderToken');\n\t\t\twindow.location.reload();\n\t\t}\n\n\t\t// try {\n\t\t// \tconst happnRes = await http.get('/happn').then(res => res.data.data);\n\t\t// \titems.push(\n\t\t// \t\t...happnRes.map(it => ({\n\t\t// \t\t\ttype: 'happn',\n\t\t// \t\t\tdistance_mi: 0,\n\t\t// \t\t\tuser: {\n\t\t// \t\t\t\t_id: it.content.user.id,\n\t\t// \t\t\t\tbio: it.content.user.about,\n\t\t// \t\t\t\tname: it.content.user.first_name,\n\t\t// \t\t\t\tphotos: it.content.user.profiles,\n\t\t// \t\t\t\tbirth_date: moment().subtract(it.content.user.age, 'year').format('YYYY-MM-DDTHH:mm:ss.SSS') + 'Z',\n\t\t// \t\t\t},\n\t\t// \t\t}))\n\t\t// \t);\n\t\t// } catch (e) {\n\t\t// \tconsole.log('happnError', e);\n\t\t// }\n\n\t\t// items.sort(() => .5 - Math.random());\n\t};\n\n\tconst negateAll = async e => {\n\t\te.preventDefault();\n\t\tconst currentData = [...data];\n\n\t\tconst rem = async index => {\n\t\t\tsetData(p => p.filter(it => it.user._id !== currentData[index].user._id));\n\t\t\tif (likes.indexOf(currentData[index].user._id) === -1) {\n\t\t\t\tawait http.post('/pass', {\n\t\t\t\t\tid: currentData[index].user._id,\n\t\t\t\t\ts: currentData[index].s_number,\n\t\t\t\t}).then(res => res.data);\n\t\t\t\tif (index < currentData.length - 1) {\n\t\t\t\t\trem(index + 1);\n\t\t\t\t} else {\n\t\t\t\t\tload();\n\t\t\t\t}\n\t\t\t}\n\t\t};\n\n\t\tif (currentData.length) {\n\t\t\trem(0);\n\t\t}\n\t};\n\n\tconst updateLikes = userId => {\n\t\tsetLikes(p => [...p, userId]);\n\t\tif (removerLikes.current.checked) {\n\t\t\tsetData(p => p.filter(it => it.user._id !== userId));\n\t\t}\n\t};\n\n\tconst updateDislikes = userId => {\n\t\tsetDislikes(p => [...p, userId]);\n\t\tif (removerDislikes.current.checked) {\n\t\t\tsetData(p => p.filter(it => it.user._id !== userId));\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"dashboard\">\n\t\t\t<header>\n\t\t\t\t<button onClick={negateAll} className=\"negate-all\">Negar Todos</button>\n\t\t\t\t<div className=\"removerLikes\">\n\t\t\t\t\t<input type=\"checkbox\" name=\"remover-likes\" id=\"remover-likes\" ref={removerLikes} />\n\t\t\t\t\t<label htmlFor=\"remover-likes\">Remover após o like</label>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"removerDislikes\">\n\t\t\t\t\t<input type=\"checkbox\" name=\"remover-dislikes\" id=\"remover-dislikes\" ref={removerDislikes} />\n\t\t\t\t\t<label htmlFor=\"remover-dislikes\">Remover após o dislike</label>\n\t\t\t\t</div>\n\t\t\t\t<span className=\"counter\">{data.length}/{dups}</span>\n\t\t\t</header>\n\t\t\t<div className=\"list\">\n\t\t\t\t{data.map(it => (\n\t\t\t\t\t<Profile\n\t\t\t\t\t\tkey={it.user._id}\n\t\t\t\t\t\titem={it}\n\t\t\t\t\t\tlikes={likes}\n\t\t\t\t\t\tdislikes={dislikes}\n\t\t\t\t\t\tupdateLikes={updateLikes}\n\t\t\t\t\t\tupdateDislikes={updateDislikes}\n\t\t\t\t\t/>\n\t\t\t\t))}\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default Dashboard;\n","import React, { useState } from 'react';\n\nimport './Token.css';\n\nconst Token = () => {\n\tconst [token, setToken] = useState('');\t\n\n\tconst onChange = e => setToken(e.target.value);\n\n\tconst onClick = e => {\n\t\te.preventDefault();\n\t\tif (token) {\n\t\t\twindow.localStorage.setItem('tinderToken', token);\n\t\t\twindow.location.reload();\n\t\t}\n\t};\n\n\treturn (\n\t\t<div className=\"token-page\">\n\t\t\t<input type=\"text\" name=\"token\" placeholder=\"Token\" onChange={onChange} />\n\t\t\t<button onClick={onClick}>Entrar</button>\n\t\t</div>\n\t);\n};\n\nexport default Token;\n","import React, { useEffect } from 'react';\nimport Dashboard from './views/pages/dashboard/Dashboard';\nimport Token from './views/pages/token/Token';\n\nimport './App.css';\n\nconst App = () => {\n\tuseEffect(\n\t\t() => {\n\t\t\tconst params = window.location.search\n\t\t\t\t.replace('?', '')\n\t\t\t\t.split('&')\n\t\t\t\t.reduce((acc, val) => {\n\t\t\t\t\tconst a = val.split('=');\n\t\t\t\t\treturn { ...acc, [a[0]]: a[1] };\n\t\t\t\t}, {});\n\n\t\t\tif (params.token) {\n\t\t\t\twindow.localStorage.setItem('tinderToken', params.token);\n\t\t\t\twindow.location.href = window.location.origin + window.location.pathname;\n\t\t\t}\n\t\t},\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t\t[]\n\t);\n\n\tconst token = window.localStorage.getItem('tinderToken');\n\treturn !!token ? <Dashboard /> : <Token />;\n};\n\nexport default App;\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}